name: CI para Programas C

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]

jobs:
  compilar-e-testar:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¥ Baixar cÃ³digo
        uses: actions/checkout@v3
      
      - name: ğŸ” Verificar GCC
        run: |
          gcc --version
          echo "âœ… GCC instalado!"
      
      - name: ğŸ“‚ Listar arquivos
        run: |
          echo "ğŸ“ Estrutura do repositÃ³rio:"
          ls -la
          echo ""
          echo "ğŸ“ Pasta 01-fundamentos:"
          ls -la 01-fundamentos/
      
      # === HELLO.WORLD ===
      - name: ğŸ”¨ Compilar hello.world.c
        run: |
          cd 01-fundamentos
          gcc hello.world.c -o hello.world
          echo "âœ… hello.world.c compilado!"
      
      - name: â–¶ï¸ Executar hello.world
        run: |
          cd 01-fundamentos
          ./hello.world
          echo "âœ… hello.world executado!"
      
      # === VARIAVEIS ===
      - name: ğŸ”¨ Compilar variaveis.c
        run: |
          cd 01-fundamentos
          gcc variaveis.c -o variaveis
          echo "âœ… variaveis.c compilado!"
      
      - name: â–¶ï¸ Executar variaveis
        run: |
          cd 01-fundamentos
          ./variaveis
          echo "âœ… variaveis executado!"
      
      # === ENTRADA.SAIDA ===
      - name: ğŸ”¨ Compilar entrada.saida.c
        run: |
          cd 01-fundamentos
          gcc entrada.saida.c -o entrada.saida
          echo "âœ… entrada.saida.c compilado!"
      
      - name: â–¶ï¸ Executar entrada.saida com testes
        run: |
          cd 01-fundamentos
          echo "ğŸ“ Testando entrada.saida:"
          echo -e "JoÃ£o\n20\n12345\n1.75" | ./entrada.saida
          echo ""
          echo "âœ… entrada.saida executado!"
      
      - name: ğŸ‰ Sucesso
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "   âœ… TODOS OS PROGRAMAS RODARAM!  "
          echo "   âœ… HELLO.WORLD                  "
          echo "   âœ… VARIAVEIS                     "
          echo "   âœ… ENTRADA.SAIDA                 "
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"